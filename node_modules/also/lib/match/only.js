// Generated by CoffeeScript 1.6.3
var matchAll;

matchAll = function(matcher, obj) {
  var doesCount, key, shouldCount, value, _i, _len, _ref;
  shouldCount = 0;
  doesCount = 0;
  for (key in matcher) {
    shouldCount++;
    if (matcher[key] instanceof Array) {
      _ref = matcher[key];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        value = _ref[_i];
        if (obj[key] === value) {
          doesCount++;
        }
      }
    } else {
      if ((obj[key] != null) && obj[key] === matcher[key]) {
        doesCount++;
      }
    }
  }
  return shouldCount === doesCount;
};

module.exports["if"] = function(Preparator, decoratedFn) {
  return function() {
    if (Preparator.matchAll == null) {
      return;
    }
    if (!matchAll(Preparator.matchAll, arguments[0])) {
      return;
    }
    return decoratedFn.apply(this, arguments);
  };
};
