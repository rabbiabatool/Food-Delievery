// Generated by CoffeeScript 1.6.3
var dirname, lstatSync, root;

lstatSync = require('fs').lstatSync;

dirname = require('path').dirname;

module.exports = root = function(parent) {
  var home, path, _i, _len, _ref;
  if (parent == null) {
    parent = module.parent;
  }
  if (parent.parent != null) {
    return root(parent.parent);
  }
  _ref = parent.paths;
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    path = _ref[_i];
    try {
      if (lstatSync(path).isDirectory()) {
        home = dirname(path);
        return {
          home: home
        };
      }
    } catch (_error) {}
  }
};
